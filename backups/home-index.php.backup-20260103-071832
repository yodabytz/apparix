<!-- Hero Section -->
<section class="hero">
    <div class="hero-content">
        <h1>Welcome to Lily's Pad Studio</h1>
        <p class="hero-tagline" id="heroTagline">Discover beautiful clothing and accessories</p>
        <a href="/products" class="btn btn-primary">Shop Now</a>
    </div>
</section>

<script>
(function() {
    const taglines = [
        "Cozy knitwear handcrafted with love",
        "Luxurious blankets & throws for your home",
        "Beautiful bags & purses for every occasion",
        "Authentic Irish & Scottish gifts",
        "Soft pillows to complement any room",
        "Traditional Celtic accessories & treasures",
        "Warm wool creations for all seasons"
    ];

    let currentIndex = 0;
    const taglineEl = document.getElementById('heroTagline');
    if (!taglineEl) return;

    function rotateTagline() {
        // Fade out
        taglineEl.style.opacity = '0';
        taglineEl.style.transform = 'translateY(6px)';

        setTimeout(() => {
            // Change text
            currentIndex = (currentIndex + 1) % taglines.length;
            taglineEl.textContent = taglines[currentIndex];

            // Fade in
            taglineEl.style.opacity = '1';
            taglineEl.style.transform = 'translateY(0)';
        }, 1000);
    }

    // Start rotation after initial delay
    setTimeout(() => {
        setInterval(rotateTagline, 8000);
    }, 5000);
})();
</script>

<!-- Shop by Category -->
<?php if (!empty($categories)): ?>
<section class="shop-categories">
    <div class="container">
        <h2>Shop by Category</h2>
        <div class="category-links">
            <a href="/products" class="category-link">All Products</a>
            <?php foreach ($categories as $category): ?>
                <a href="/category/<?php echo escape($category['slug']); ?>" class="category-link">
                    <?php echo escape($category['name']); ?>
                </a>
            <?php endforeach; ?>
        </div>
    </div>
</section>
<?php endif; ?>

<!-- Featured Products -->
<section class="featured-products">
    <div class="container">
        <h2>Featured Items</h2>
        <div class="products-grid">
            <?php if (!empty($featured_products)): ?>
                <?php foreach ($featured_products as $product): ?>
                    <div class="product-card" <?php if (!empty($product['video_path'])): ?>data-has-video="true"<?php endif; ?>>
                        <div class="product-image">
                            <a href="/products/<?php echo escape($product['slug']); ?>">
                                <img src="<?php echo escape($product['primary_image'] ?? '/assets/images/placeholder.png'); ?>"
                                     alt="<?php echo escape($product['name']); ?> - Featured Product | <?php echo appName(); ?>"
                                     title="<?php echo escape($product['name']); ?>"
                                     loading="lazy"
                                     width="300"
                                     height="300">
                                <?php if (!empty($product['video_path'])): ?>
                                    <video class="product-video" src="<?php echo escape($product['video_path']); ?>" muted loop playsinline preload="metadata"></video>
                                    <span class="video-indicator">&#9658;</span>
                                <?php endif; ?>
                            </a>
                            <?php if ($product['sale_price']): ?>
                                <span class="sale-badge">Sale</span>
                            <?php endif; ?>
                        </div>
                        <div class="product-info">
                            <h3><a href="/products/<?php echo escape($product['slug']); ?>"><?php echo escape($product['name']); ?></a></h3>
                            <p class="product-price">
                                <?php if ($product['sale_price']): ?>
                                    <span class="original-price"><del><?php echo formatPrice($product['price']); ?></del></span>
                                    <span class="sale-price"><?php echo formatPrice($product['sale_price']); ?></span>
                                <?php else: ?>
                                    <?php echo formatPrice($product['price']); ?>
                                <?php endif; ?>
                            </p>
                            <a href="/products/<?php echo escape($product['slug']); ?>" class="btn btn-add-cart">Shop Now</a>
                        </div>
                    </div>
                <?php endforeach; ?>
            <?php else: ?>
                <p class="no-products">No featured products available. Check back soon!</p>
            <?php endif; ?>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section">
    <div class="container">
        <h2>Browse Our Full Collection</h2>
        <a href="/products" class="btn btn-outline">View All Products</a>
    </div>
</section>
